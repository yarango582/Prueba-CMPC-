<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" version="28.0.6">
  <diagram id="app-flow-1" name="App Flow">
    <mxGraphModel dx="1959" dy="2100" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="c1" value="Docker Compose (postgres, backend, frontend)" style="rounded=1;strokeWidth=1;fontStyle=1;align=center;verticalAlign=top;labelBackgroundColor=none;fontSize=18;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="160" y="-90" width="1340" height="740" as="geometry" />
        </mxCell>
        <mxCell id="b1" value="Browser (User)" style="rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;labelBackgroundColor=none;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="180" y="255" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="f1" value="Frontend (React + Vite)" style="rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;labelBackgroundColor=none;gradientColor=#97d077;" parent="1" vertex="1">
          <mxGeometry x="360" y="50" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="p1" value="Vite Dev Server / Static Server" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;labelBackgroundColor=none;rounded=1;gradientColor=#97d077;" parent="1" vertex="1">
          <mxGeometry x="600" y="40" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="api" value="Backend API (NestJS)" style="rounded=1;fontSize=16;labelBackgroundColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="840" y="30" width="340" height="500" as="geometry" />
        </mxCell>
        <mxCell id="m1" value="Middleware / Guard\n(auth, rate-limit, logging)" style="rounded=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;labelBackgroundColor=none;gradientColor=#97d077;fontStyle=0" parent="api" vertex="1">
          <mxGeometry x="24.285714285714285" y="30.002222222222223" width="291.4285714285714" height="66.66666666666667" as="geometry" />
        </mxCell>
        <mxCell id="ctrl" value="Controller(s)\n(HTTP endpoints)" style="rounded=1;fillColor=#ffcd28;strokeColor=#d79b00;fontSize=14;labelBackgroundColor=none;gradientColor=#ffa500;" parent="api" vertex="1">
          <mxGeometry x="24.285714285714285" y="110.00222222222223" width="291.4285714285714" height="66.66666666666667" as="geometry" />
        </mxCell>
        <mxCell id="svc" value="Service / Use Case\n(Business logic, transactions)" style="rounded=1;fillColor=#ffcd28;strokeColor=#d79b00;fontSize=13;labelBackgroundColor=none;gradientColor=#ffa500;" parent="api" vertex="1">
          <mxGeometry x="24.285714285714285" y="270.00222222222226" width="291.4285714285714" height="88.88888888888889" as="geometry" />
        </mxCell>
        <mxCell id="repo" value="Repository / Sequelize Model\n(queries, soft-delete)" style="rounded=1;fillColor=#ffcd28;strokeColor=#d79b00;fontSize=13;labelBackgroundColor=none;gradientColor=#ffa500;" parent="api" vertex="1">
          <mxGeometry x="24.285714285714285" y="371.11333333333334" width="291.4285714285714" height="88.88888888888889" as="geometry" />
        </mxCell>
        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=none;endArrow=block;labelBackgroundColor=none;fontColor=default;" parent="api" source="m1" target="ctrl" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=none;endArrow=block;labelBackgroundColor=none;fontColor=default;" parent="api" source="ctrl" target="svc" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=none;endArrow=block;labelBackgroundColor=none;fontColor=default;" parent="api" source="svc" target="repo" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cloud" value="Cloudinary (fotos de libros)" style="rounded=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;labelBackgroundColor=none;gradientColor=#ea6b66;" parent="1" vertex="1">
          <mxGeometry x="450" y="480" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;labelBackgroundColor=none;fontColor=default;" parent="1" source="b1" target="f1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;labelBackgroundColor=none;fontColor=default;" parent="1" source="f1" target="p1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;labelBackgroundColor=none;fontColor=default;" parent="1" source="p1" target="api" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e9" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=none;endArrow=block;dashed=1;labelBackgroundColor=none;fontColor=default;" parent="1" source="svc" target="cloud" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="seed" value="Seeds Service (SEED_DB=true)" style="rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;labelBackgroundColor=none;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1250" y="480" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="e10" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=none;endArrow=block;labelBackgroundColor=none;fontColor=default;" parent="1" source="seed" target="repo" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1360" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="db" value="PostgreSQL" style="cylinder;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;labelBackgroundColor=none;rounded=1;gradientColor=#7ea6e0;" parent="1" vertex="1">
          <mxGeometry x="1270" y="240" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=none;endArrow=block;labelBackgroundColor=none;fontColor=default;" parent="1" source="repo" target="db" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e11" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#E07A5F;startArrow=block;endArrow=none;labelBackgroundColor=none;fontColor=default;" parent="1" source="db" target="svc" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TEufqek87NeU-_y6sVWr-1" value="" style="image;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/azure2/databases/Azure_Database_PostgreSQL_Server.svg;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;" vertex="1" parent="1">
          <mxGeometry x="1390" y="210" width="48" height="64" as="geometry" />
        </mxCell>
        <mxCell id="TEufqek87NeU-_y6sVWr-2" value="&lt;font style=&quot;font-size: 14px; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;b style=&quot;&quot;&gt;Cloudinary&lt;/b&gt;&lt;/font&gt;" style="html=1;whiteSpace=wrap;strokeColor=none;fillColor=#0079D6;labelPosition=center;verticalLabelPosition=middle;verticalAlign=top;align=center;fontSize=12;outlineConnect=0;spacingTop=-6;fontColor=#FFFFFF;sketch=0;shape=mxgraph.sitemap.cloud;" vertex="1" parent="1">
          <mxGeometry x="580" y="430" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TEufqek87NeU-_y6sVWr-3" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://icons.diagrams.net/icon-cache1/Social_Media-2845/17-Google_chrome-520.svg;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;" vertex="1" parent="1">
          <mxGeometry x="290" y="226" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="TEufqek87NeU-_y6sVWr-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;" edge="1" parent="1" source="TEufqek87NeU-_y6sVWr-4" target="b1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TEufqek87NeU-_y6sVWr-4" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;strokeColor=#E07A5F;fontColor=#393C56;fillColor=#F2CC8F;" vertex="1" parent="1">
          <mxGeometry x="200" y="360" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TEufqek87NeU-_y6sVWr-6" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;prIcon=api;fontColor=#393C56;" vertex="1" parent="1">
          <mxGeometry x="1120" y="-20" width="91.67" height="88" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
